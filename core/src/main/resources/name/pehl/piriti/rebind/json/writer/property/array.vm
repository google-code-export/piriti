#parse("name/pehl/piriti/rebind/json/writer/property/commons.vm")
#set($index = $property.variables.newVariable("Index"))
#set($elementType = $property.elementType.parameterizedQualifiedSourceName)
#if ($property.elementType.isPrimitive())
    #set($boxedElementType = $property.elementType.qualifiedBoxedSourceName)
#else
    #set($boxedElementType = $elementType)
#end
#newConcreteTypes()
if ($value != null)
{
    Converter<$boxedElementType> $converter = null;
    #if ($property.hasConverter()) #customConverter() #else #defaultConverter($boxedElementType) #end
    for (int $index = 0; $index < ${value}.length; ${index}++)
    {
        #set($currentValue = $property.variables.newVariable("CurrentValue"))
        #set($currentValueAsString = $property.variables.newVariable("CurrentValueAsString"))
        $boxedElementType $currentValue = ${value}[${index}];
        String $currentValueAsString = null;
        #parse($property.elementTypeTemplate)
        if ($index < ${value}.length - 1)
        {
            out.append(",");
        }
    }
}
else
{
    out.append("null");
}
